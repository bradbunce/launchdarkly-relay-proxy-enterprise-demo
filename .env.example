# LaunchDarkly Demo Application - Environment Configuration
# Copy this file to .env and fill in your actual values

# ============================================================================
# LaunchDarkly SDK Configuration
# ============================================================================

# Your LaunchDarkly SDK key (required for SDK initialization)
# To obtain an SDK key:
# 1. Log in to your LaunchDarkly account at https://app.launchdarkly.com
# 2. Navigate to Account Settings > Projects
# 3. Select your project and environment
# 4. Copy the SDK key from the "Server-side SDK" section
# 
# Example: sdk-xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
LAUNCHDARKLY_SDK_KEY=

# ============================================================================
# Relay Proxy Configuration
# ============================================================================

# URL of the LaunchDarkly Relay Proxy (default: http://relay-proxy:8030)
# When running with Docker Compose, use the service name: http://relay-proxy:8030
# For local development without Docker, use: http://localhost:8030
RELAY_PROXY_URL=http://relay-proxy:8030

# Relay Proxy Configuration Key (required for AutoConfig mode)
# To obtain a Relay Proxy configuration key:
# 1. Log in to your LaunchDarkly account at https://app.launchdarkly.com
# 2. Navigate to Account Settings > Relay Proxy
# 3. Create or copy your Relay Proxy configuration key
# 
# Example: rel-xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
RELAY_PROXY_CONFIG_KEY=

# ============================================================================
# Node.js Application Configuration (Relay Proxy Mode)
# ============================================================================

# The Node.js application uses Relay Proxy mode exclusively.
# All SDK traffic (streaming, flag evaluation, events) goes through the Relay Proxy.

# Port number for the Express web server (default: 3000)
# The application will listen on this port for HTTP requests
PORT=3000

# ============================================================================
# PHP Application Configuration (Daemon Mode: Redis + Events)
# ============================================================================

# The PHP application uses Daemon Mode exclusively.
# - Reads feature flags directly from Redis (high performance)
# - Sends analytics events through the Relay Proxy

# Redis Host for PHP SDK (default: redis)
# When running with Docker Compose, use the service name: redis
# For local development, use: localhost
REDIS_HOST=redis

# Redis Port for PHP SDK (default: 6379)
REDIS_PORT=6379

# Redis Key Prefix (optional)
# The PHP SDK automatically determines the correct Redis prefix from the SDK key.
# However, you can explicitly set it to match the Relay Proxy's prefix format.
# The Relay Proxy uses: ld-flags-{ENVIRONMENT_ID}
# 
# To find your environment ID:
# 1. Run: docker exec redis redis-cli KEYS "*"
# 2. Look for keys like: ld-flags-507f1f77bcf86cd799439011:features
# 3. The environment ID is the part after "ld-flags-" and before the colon
#
# Example: REDIS_PREFIX=ld-flags-507f1f77bcf86cd799439011
# Leave empty to let the SDK auto-detect (recommended)
REDIS_PREFIX=

# PHP Application Port (default: 8080)
# The PHP application will be accessible at http://localhost:8080
# This is configured in docker-compose.yml and maps to internal port 80
PHP_PORT=8080

# ============================================================================
# Redis Configuration
# ============================================================================

# Redis is configured automatically in docker-compose.yml and requires no
# additional environment variables. The relay proxy is pre-configured to use
# Redis for persistent storage of feature flag data.
#
# Redis Configuration Details:
# - Redis runs on internal Docker network (not exposed to host by default)
# - Connection URL: redis://redis:6379 (internal hostname)
# - Data persistence: Enabled via Docker volume (redis-data)
# - No authentication required for internal Docker network
#
# For advanced Redis configuration, modify docker-compose.yml directly.
